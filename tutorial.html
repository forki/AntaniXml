<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Tutorial
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="xml random generator"/>
    <meta name="author" content="Giacomo Citi"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/AntaniXml/content/style.css" />
    <script type="text/javascript" src="/AntaniXml/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/giacomociti/AntaniXml">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/AntaniXml/index.html">AntaniXml</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Tutorial" class="anchor" href="#Tutorial">Tutorial</a></h1>
<p>The <a href="http://giacomociti.github.io/AntaniXml/reference/antanixml-schema.html">public API</a>
comprises factory methods to load a schema.
Usually schema definitions are given as xsd files, so you need to specify their Uri.
Overloads accepting xsd as plain text are also provided; they're handy for experimenting with
little xsd snippets:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">xsdText</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">        &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; </span>
<span class="s">            elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;</span>
<span class="s">            &lt;xs:element name=&quot;e1&quot; type=&quot;xs:int&quot; /&gt;</span>
<span class="s">            &lt;xs:element name=&quot;e2&quot; type=&quot;xs:string&quot; /&gt;</span>
<span class="s">        &lt;/xs:schema&gt;&quot;&quot;&quot;</span> 

    <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="t">Schema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="f">CreateFromText</span>(<span onmouseout="hideTip(event, 'fs5', 8)" onmouseover="showTip(event, 'fs5', 8)" class="i">xsdText</span>)
          <span class="o">.</span><span class="f">Generator</span>(<span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="t">XmlQualifiedName</span> <span class="s">&quot;e1&quot;</span>)
          <span class="o">.</span><span class="f">GenerateInfinite</span>()
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="f">take</span> <span class="n">5</span>
          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="f">iter</span> (<span onmouseout="hideTip(event, 'fs12', 14)" onmouseover="showTip(event, 'fs12', 14)" class="f">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span>)
</code></pre></td>
</tr>
</table>
<p>Choosing a global element we can get a generator for it.
The same example in C# is:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">var</span> <span class="i">xsdText</span> <span class="o">=</span> <span class="s">@&quot;</span>
<span class="s">    &lt;xs:schema xmlns:xs = &#39;http://www.w3.org/2001/XMLSchema&#39;</span>
<span class="s">        elementFormDefault = &#39;qualified&#39; attributeFormDefault = &#39;unqualified&#39; &gt;</span>
<span class="s">        &lt;xs:element name = &#39;e1&#39; type = &#39;xs:int&#39; /&gt;</span>
<span class="s">        &lt;xs:element name = &#39;e2&#39; type = &#39;xs:string&#39; /&gt;</span>
<span class="s">    &lt;/xs:schema &gt; &quot;</span>;

<span class="i">Schema</span><span class="o">.</span><span class="i">CreateFromText</span>(<span class="i">xsdText</span>)
    <span class="o">.</span><span class="i">Generator</span>(<span class="k">new</span> <span class="i">XmlQualifiedName</span>(<span class="s">&quot;e1&quot;</span>))
    <span class="o">.</span><span class="i">GenerateInfinite</span>()
    <span class="o">.</span><span class="i">Take</span>(<span class="n">5</span>)
    <span class="o">.</span><span class="i">ToList</span>()
    <span class="o">.</span><span class="i">ForEach</span>(<span class="i">Console</span><span class="o">.</span><span class="i">WriteLine</span>);
</code></pre></td>
</tr>
</table>
<p>and may generate something like this:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="xml"><span class="k">&lt;</span><span class="i">e1</span><span class="k">&gt;</span>0<span class="k">&lt;/</span><span class="i">e1</span><span class="k">&gt;</span>
<span class="k">&lt;</span><span class="i">e1</span><span class="k">&gt;</span>  -3<span class="k">&lt;/</span><span class="i">e1</span><span class="k">&gt;</span>
<span class="k">&lt;</span><span class="i">e1</span><span class="k">&gt;</span>0<span class="k">&lt;/</span><span class="i">e1</span><span class="k">&gt;</span>
<span class="k">&lt;</span><span class="i">e1</span><span class="k">&gt;</span>4<span class="k">&lt;/</span><span class="i">e1</span><span class="k">&gt;</span>
<span class="k">&lt;</span><span class="i">e1</span><span class="k">&gt;</span>-1<span class="k">&lt;/</span><span class="i">e1</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
<h3><a name="Property-based-testing" class="anchor" href="#Property-based-testing">Property based testing</a></h3>
<p>For property based testing we can get instances of the
<code>Arbitrary</code> type <a href="https://fscheck.github.io/FsCheck/TestData.html">defined by FsCheck</a>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 15)" onmouseover="showTip(event, 'fs13', 15)" class="i">arb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 16)" onmouseover="showTip(event, 'fs6', 16)" class="t">Schema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 17)" onmouseover="showTip(event, 'fs14', 17)" class="f">CreateFromUri</span>(<span class="s">&quot;po.xsd&quot;</span>)
                    <span class="o">.</span><span class="f">Arbitrary</span>(<span onmouseout="hideTip(event, 'fs8', 18)" onmouseover="showTip(event, 'fs8', 18)" class="t">XmlQualifiedName</span> <span class="s">&quot;purchaseOrder&quot;</span>)
    
</code></pre></td>
</tr>
</table>
<p>Again, the C# version is almost the same:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">var</span> <span class="i">arb</span> <span class="o">=</span> <span class="i">Schema</span><span class="o">.</span><span class="i">CreateFromUri</span>(<span class="s">&quot;po.xsd&quot;</span>)
    <span class="o">.</span><span class="i">Arbitrary</span>(<span class="k">new</span> <span class="i">XmlQualifiedName</span>(<span class="s">&quot;purchaseOrder&quot;</span>));
</code></pre></td>
</tr>
</table>
<p>The idea of property based testing is to express a specification with boolean functions (properties).
But instead of trying to <em>prove</em> that a property holds, we simply check that the function is true for a big number of randomly
generated input values.</p>
<p>In our context the first, obligatory example is validity.
This is of course a property we always expect to hold and hopefully AntaniXml produces valid elements,
but it's worth checking it because for some schema it may not be the case,
and you may discover the need to customize generators in order to obtain valid elements.</p>
<p>The <code>Check.Quick</code> function generates a certain number of values using the given <code>Arbitrary</code> instance and,
for each one, checks if the property holds; in this case it checks if the generated element is valid:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs15', 19)" onmouseover="showTip(event, 'fs15', 19)" class="i">FsCheck</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 20)" onmouseover="showTip(event, 'fs16', 20)" class="i">schema</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 21)" onmouseover="showTip(event, 'fs6', 21)" class="t">Schema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 22)" onmouseover="showTip(event, 'fs14', 22)" class="f">CreateFromUri</span> <span class="s">&quot;foo.xsd&quot;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 23)" onmouseover="showTip(event, 'fs17', 23)" class="i">arbFoo</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="i">schema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 25)" onmouseover="showTip(event, 'fs18', 25)" class="f">Arbitrary</span>(<span onmouseout="hideTip(event, 'fs8', 26)" onmouseover="showTip(event, 'fs8', 26)" class="t">XmlQualifiedName</span> <span class="s">&quot;foo&quot;</span>)
    <span class="i">Prop</span><span class="o">.</span><span class="i">forAll</span> <span onmouseout="hideTip(event, 'fs17', 27)" onmouseover="showTip(event, 'fs17', 27)" class="i">arbFoo</span> <span onmouseout="hideTip(event, 'fs16', 28)" onmouseover="showTip(event, 'fs16', 28)" class="i">schema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 29)" onmouseover="showTip(event, 'fs19', 29)" class="i">IsValid</span>
    <span class="o">|&gt;</span> <span class="i">Check</span><span class="o">.</span><span class="i">Quick</span> 
</code></pre></td>
</tr>
</table>
<p>The same in C# is:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">var</span> <span class="i">schema</span> <span class="o">=</span> <span class="i">Schema</span><span class="o">.</span><span class="i">CreateFromUri</span>(<span class="s">&quot;foo.xsd&quot;</span>);
<span class="i">var</span> <span class="i">arbFoo</span> <span class="o">=</span> <span class="i">schema</span><span class="o">.</span><span class="i">Arbitrary</span>(<span class="k">new</span> <span class="i">XmlQualifiedName</span>(<span class="s">&quot;foo&quot;</span>));
<span class="i">Prop</span><span class="o">.</span><span class="i">ForAll</span>(<span class="i">arbFoo</span>, <span class="i">x</span> <span class="o">=&gt;</span> <span class="i">schema</span><span class="o">.</span><span class="i">IsValid</span>(<span class="i">x</span>))
    <span class="o">.</span><span class="i">QuickCheck</span>();
</code></pre></td>
</tr>
</table>
<p>In the standard output a message like the following should be printed</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Ok</span>, <span class="i">passed</span> <span class="n">100</span> <span class="i">tests</span><span class="o">.</span>
</code></pre></td>
</tr>
</table>
<p>In case a counter-example is found, it is printed instead.
FsCheck has a concept of shrinking aimed at minimizing counter-examples.
At the moment AntaniXml lacks proper support for shrinking so counter-examples
provided for failing tests may be bigger than necessary.</p>
<p>When checking properties in a unit test, the function <code>Check.QuickThrowOnFailure</code> may be used instead of <code>Check.Quick</code>
so that a test failure is triggered when a property does not hold.
For popular unit testing frameworks like NUnit and XUnit there are also extensions enabling to
express FsCheck properties more directly.</p>
<p>A more interesting example of property based testing is about XML data binding and serialization.
Suppose you have a class representing a global element in a schema.
This kind of data binding classes are often obtained with tools
like <a href="https://msdn.microsoft.com/en-us/library/x6c1kb0s(v=vs.110).aspx"><code>xsd.exe</code></a>.
It may be interesting to check that all valid elements can be properly deserialized into instances
of the corresponding class. And serializing such instances back to XML should result in equivalent elements.
Probably it's not required for the resulting elements to be identical to the original ones, especially when it
comes to formatting details; but at least we should expect no loss of contents.
You may be surprised to discover that for many schemas it is quite hard or impossible to get a suitable data binding class.
This is due to the <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.105.1550&amp;rep=rep1&amp;type=pdf">X/O impedance mismatch</a>.</p>
<p>One more use case is schema evolution. Evolving a schema ensuring backward compatibility means that all the
elements valid according to the old version of the schema should also be valid for the new version.
This can be checked with property based testing.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs15', 30)" onmouseover="showTip(event, 'fs15', 30)" class="i">FsCheck</span>
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 31)" onmouseover="showTip(event, 'fs20', 31)" class="i">oldSchema</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 32)" onmouseover="showTip(event, 'fs6', 32)" class="t">Schema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 33)" onmouseover="showTip(event, 'fs14', 33)" class="f">CreateFromUri</span> <span class="s">&quot;old.xsd&quot;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 34)" onmouseover="showTip(event, 'fs21', 34)" class="i">newSchema</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 35)" onmouseover="showTip(event, 'fs6', 35)" class="t">Schema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 36)" onmouseover="showTip(event, 'fs14', 36)" class="f">CreateFromUri</span> <span class="s">&quot;new.xsd&quot;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 37)" onmouseover="showTip(event, 'fs22', 37)" class="i">arbFooOld</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 38)" onmouseover="showTip(event, 'fs20', 38)" class="i">oldSchema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 39)" onmouseover="showTip(event, 'fs18', 39)" class="f">Arbitrary</span>(<span onmouseout="hideTip(event, 'fs8', 40)" onmouseover="showTip(event, 'fs8', 40)" class="t">XmlQualifiedName</span> <span class="s">&quot;foo&quot;</span>)

    <span class="k">let</span> <span class="i">isStillValid</span> <span onmouseout="hideTip(event, 'fs23', 41)" onmouseover="showTip(event, 'fs23', 41)" class="i">elm</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 42)" onmouseover="showTip(event, 'fs20', 42)" class="i">oldSchema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 43)" onmouseover="showTip(event, 'fs19', 43)" class="f">IsValid</span> <span onmouseout="hideTip(event, 'fs23', 44)" onmouseover="showTip(event, 'fs23', 44)" class="i">elm</span> <span class="o">==&gt;</span> <span onmouseout="hideTip(event, 'fs21', 45)" onmouseover="showTip(event, 'fs21', 45)" class="i">newSchema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 46)" onmouseover="showTip(event, 'fs19', 46)" class="f">IsValid</span> <span onmouseout="hideTip(event, 'fs23', 47)" onmouseover="showTip(event, 'fs23', 47)" class="i">elm</span>

    <span class="i">Prop</span><span class="o">.</span><span class="i">forAll</span> <span onmouseout="hideTip(event, 'fs22', 48)" onmouseover="showTip(event, 'fs22', 48)" class="i">arbFooOld</span> <span class="i">isStillValid</span>
    <span class="o">|&gt;</span> <span class="i">Check</span><span class="o">.</span><span class="i">Quick</span>
</code></pre></td>
</tr>
</table>
<p>The same in C# is:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">var</span> <span class="i">oldSchema</span> <span class="o">=</span> <span class="i">Schema</span><span class="o">.</span><span class="i">CreateFromUri</span>(<span class="s">&quot;old.xsd&quot;</span>);
<span class="i">var</span> <span class="i">newSchema</span> <span class="o">=</span> <span class="i">Schema</span><span class="o">.</span><span class="i">CreateFromUri</span>(<span class="s">&quot;new.xsd&quot;</span>);
<span class="i">var</span> <span class="i">arbFooOld</span> <span class="o">=</span> <span class="i">oldSchema</span><span class="o">.</span><span class="i">Arbitrary</span>(<span class="k">new</span> <span class="i">XmlQualifiedName</span>(<span class="s">&quot;foo&quot;</span>));
<span class="i">Prop</span><span class="o">.</span><span class="i">ForAll</span>(<span class="i">arbFooOld</span>, <span class="i">x</span> <span class="o">=&gt;</span> <span class="i">newSchema</span><span class="o">.</span><span class="i">IsValid</span>(<span class="i">x</span>)<span class="o">.</span><span class="i">When</span>(<span class="i">oldSchema</span><span class="o">.</span><span class="i">IsValid</span>(<span class="i">x</span>)))
    <span class="o">.</span><span class="i">QuickCheck</span>();
</code></pre></td>
</tr>
</table>
<p>In this example we also see in action a conditional property,
expressed in F# with the <code>==&gt;</code> operator and in C# with the fluent method <code>When</code>.
Again, the concept of conditional property is well explained
in the <a href="https://fscheck.github.io/FsCheck/Properties.html">FsCheck documentation</a>.</p>
<h3><a name="Creating-samples-for-the-XML-type-provider" class="anchor" href="#Creating-samples-for-the-XML-type-provider"><a href="#XMLTypeProvider">Creating samples for the XML type provider</a></a></h3>
<p>Another possible usage scenario is creating samples for the XML type provider.</p>
<p><a href="http://fsharp.github.io/FSharp.Data">FSharp.Data</a> is a popular F# library featuring many type providers, including one for XML.
Strongly typed access to xml documents is achieved with inference on samples. AntaniXml may help to produce the needed samples:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 49)" onmouseover="showTip(event, 'fs1', 49)" class="i">AntaniXml</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 50)" onmouseover="showTip(event, 'fs3', 50)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 51)" onmouseover="showTip(event, 'fs24', 51)" class="i">IO</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs25', 52)" onmouseover="showTip(event, 'fs25', 52)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 53)" onmouseover="showTip(event, 'fs26', 53)" class="i">Data</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 54)" onmouseover="showTip(event, 'fs3', 54)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 55)" onmouseover="showTip(event, 'fs4', 55)" class="i">Xml</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 56)" onmouseover="showTip(event, 'fs27', 56)" class="i">Linq</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 57)" onmouseover="showTip(event, 'fs28', 57)" class="i">samples</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs6', 58)" onmouseover="showTip(event, 'fs6', 58)" class="t">Schema</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 59)" onmouseover="showTip(event, 'fs14', 59)" class="f">CreateFromUri</span>(<span class="s">@&quot;C:\temp\po.xsd&quot;</span>)
              <span class="o">.</span><span class="f">Generator</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fs8', 60)" onmouseover="showTip(event, 'fs8', 60)" class="t">XmlQualifiedName</span> <span class="s">&quot;purchaseOrder&quot;</span>)
              <span class="o">.</span><span class="f">Generate</span>(<span class="n">5</span>)
    <span onmouseout="hideTip(event, 'fs29', 61)" onmouseover="showTip(event, 'fs29', 61)" class="t">XElement</span>(<span onmouseout="hideTip(event, 'fs30', 62)" onmouseover="showTip(event, 'fs30', 62)" class="t">XName</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 63)" onmouseover="showTip(event, 'fs31', 63)" class="f">Get</span> <span class="s">&quot;root&quot;</span>, <span onmouseout="hideTip(event, 'fs28', 64)" onmouseover="showTip(event, 'fs28', 64)" class="i">samples</span>)<span class="o">.</span><span class="f">Save</span>(<span class="s">@&quot;C:\temp\samples.xml&quot;</span>)

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs32', 65)" onmouseover="showTip(event, 'fs32', 65)" class="t">po</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs33', 66)" onmouseover="showTip(event, 'fs33', 66)" class="t">XmlProvider</span><span class="o">&lt;</span> <span class="s">@&quot;C:\temp\samples.xml&quot;</span>, <span class="i">SampleIsList</span> <span class="o">=</span> <span class="k">true</span><span class="o">&gt;</span>
</code></pre></td>
</tr>
</table>
<p>Of course when a schema is available it would be a better option to infer types directly from it.
Future versions of FSharp.Data may support xsd.</p>
<h3><a name="Known-Limitations" class="anchor" href="#Known-Limitations">Known Limitations</a></h3>
<p><a href="http://www.w3.org/XML/Schema">XML Schema</a> is rich and complex, it's inevitable to have some limitations.
A few ones are known and listed below. Some of them may hopefully be addressed in the future.
But likely there are many more unknown limitations. If you find one please raise an <a href="https://github.com/giacomociti/AntaniXml/issues">issue</a>.
Anyway don't be too scared of this disclaimer. AntaniXml can cope with many nuances and support many features
(like regex patterns thanks to <a href="https://github.com/moodmosaic/Fare">Fare</a>).
The main limitations currently known are:</p>
<h4><a name="built-in-types" class="anchor" href="#built-in-types">built-in types</a></h4>
<p>A few built-in types are not supported: Notation, NmTokens, Id, Idref, Idrefs, Entity and Entities.</p>
<h4><a name="identity-and-subset-constraint" class="anchor" href="#identity-and-subset-constraint">identity and subset constraint</a></h4>
<p>XML Schema provides rough equivalents of primary and foreign keys in databases.
Version 1.1 also introduced assertions to allow further constraints.
Schemas are primarily grammar based, so they are a good fit for random generators.
But these complementary features for specifying constraints are at odd with the generative approach.</p>
<h4><a name="wildcards" class="anchor" href="#wildcards">wildcards</a></h4>
<p>With certain kinds of wildcards (e.g. <code>##other</code>) it may be impossible to generate valid contents.</p>
<h4><a name="regex-patterns" class="anchor" href="#regex-patterns">regex patterns</a></h4>
<p>Some regex patterns may not be properly supported, for example those using the character
classes <code>\i</code> and <code>\c</code> which are specific to W3C XML Schema.</p>
<h3><a name="Public-API" class="anchor" href="#Public-API">Public API</a></h3>
<p>The public types of the <code>AntaniXml</code> namespace constitute the public API.
Users of the library are expected to interact only with the <code>Schema</code> class and
sometimes with the <code>CustomGenerators</code> class.</p>
<p>The rest of the library is organized in modules.
Even if they are public they are not designed to be directly used by C# client code.</p>

<div class="tip" id="fs1">namespace AntaniXml</div>
<div class="tip" id="fs2">module XsdFactory<br /><br />from AntaniXml</div>
<div class="tip" id="fs3">namespace System</div>
<div class="tip" id="fs4">namespace System.Xml</div>
<div class="tip" id="fs5">val xsdText : string<br /><br />Full name: Tutorial.xsdText</div>
<div class="tip" id="fs6">Multiple items<br />namespace System.Xml.Schema<br /><br />--------------------<br />type Schema =<br />&#160;&#160;new : xmlSchemaSet:XmlSchemaSet -&gt; Schema<br />&#160;&#160;member Arbitrary : elementName:XmlQualifiedName -&gt; Arbitrary&lt;XElement&gt;<br />&#160;&#160;member Arbitrary : elementName:XmlQualifiedName * customizations:CustomGenerators -&gt; Arbitrary&lt;XElement&gt;<br />&#160;&#160;member Generator : elementName:XmlQualifiedName -&gt; IXmlElementGenerator<br />&#160;&#160;member IsValid : element:XElement -&gt; bool<br />&#160;&#160;member Validate : element:XElement -&gt; ValidationResult<br />&#160;&#160;member Validate : element:string -&gt; ValidationResult<br />&#160;&#160;member GlobalElements : IEnumerable&lt;XmlQualifiedName&gt;<br />&#160;&#160;static member CreateFromText : schemaText:string -&gt; Schema<br />&#160;&#160;static member CreateFromUri : schemaUri:string -&gt; Schema<br /><br />Full name: AntaniXml.Schema<br /><br />--------------------<br />new : xmlSchemaSet:Schema.XmlSchemaSet -&gt; Schema</div>
<div class="tip" id="fs7">static member Schema.CreateFromText : schemaText:string -&gt; Schema</div>
<div class="tip" id="fs8">Multiple items<br />type XmlQualifiedName =<br />&#160;&#160;new : unit -&gt; XmlQualifiedName + 2 overloads<br />&#160;&#160;member Equals : other:obj -&gt; bool<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Name : string<br />&#160;&#160;member Namespace : string<br />&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;static val Empty : XmlQualifiedName<br />&#160;&#160;static member ToString : name:string * ns:string -&gt; string<br /><br />Full name: System.Xml.XmlQualifiedName<br /><br />--------------------<br />XmlQualifiedName() : unit<br />XmlQualifiedName(name: string) : unit<br />XmlQualifiedName(name: string, ns: string) : unit</div>
<div class="tip" id="fs9">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs10">val take : count:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.take</div>
<div class="tip" id="fs11">val iter : action:(&#39;T -&gt; unit) -&gt; source:seq&lt;&#39;T&gt; -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Seq.iter</div>
<div class="tip" id="fs12">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs13">val arb : FsCheck.Arbitrary&lt;Linq.XElement&gt;<br /><br />Full name: Tutorial.arb</div>
<div class="tip" id="fs14">static member Schema.CreateFromUri : schemaUri:string -&gt; Schema</div>
<div class="tip" id="fs15">namespace FsCheck</div>
<div class="tip" id="fs16">val schema : Schema<br /><br />Full name: Tutorial.schema</div>
<div class="tip" id="fs17">val arbFoo : FsCheck.Arbitrary&lt;Linq.XElement&gt;<br /><br />Full name: Tutorial.arbFoo</div>
<div class="tip" id="fs18">member Schema.Arbitrary : elementName:XmlQualifiedName -&gt; FsCheck.Arbitrary&lt;Linq.XElement&gt;<br />member Schema.Arbitrary : elementName:XmlQualifiedName * customizations:CustomGenerators -&gt; FsCheck.Arbitrary&lt;Linq.XElement&gt;</div>
<div class="tip" id="fs19">member Schema.IsValid : element:Linq.XElement -&gt; bool</div>
<div class="tip" id="fs20">val oldSchema : Schema<br /><br />Full name: Tutorial.oldSchema</div>
<div class="tip" id="fs21">val newSchema : Schema<br /><br />Full name: Tutorial.newSchema</div>
<div class="tip" id="fs22">val arbFooOld : FsCheck.Arbitrary&lt;Linq.XElement&gt;<br /><br />Full name: Tutorial.arbFooOld</div>
<div class="tip" id="fs23">val elm : &#39;a (requires &#39;a :&gt; Linq.XElement)</div>
<div class="tip" id="fs24">namespace System.IO</div>
<div class="tip" id="fs25">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs26">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs27">namespace System.Xml.Linq</div>
<div class="tip" id="fs28">val samples : XElement array<br /><br />Full name: Tutorial.samples</div>
<div class="tip" id="fs29">Multiple items<br />type XElement =<br />&#160;&#160;inherit XContainer<br />&#160;&#160;new : name:XName -&gt; XElement + 4 overloads<br />&#160;&#160;member AncestorsAndSelf : unit -&gt; IEnumerable&lt;XElement&gt; + 1 overload<br />&#160;&#160;member Attribute : name:XName -&gt; XAttribute<br />&#160;&#160;member Attributes : unit -&gt; IEnumerable&lt;XAttribute&gt; + 1 overload<br />&#160;&#160;member DescendantNodesAndSelf : unit -&gt; IEnumerable&lt;XNode&gt;<br />&#160;&#160;member DescendantsAndSelf : unit -&gt; IEnumerable&lt;XElement&gt; + 1 overload<br />&#160;&#160;member FirstAttribute : XAttribute<br />&#160;&#160;member GetDefaultNamespace : unit -&gt; XNamespace<br />&#160;&#160;member GetNamespaceOfPrefix : prefix:string -&gt; XNamespace<br />&#160;&#160;member GetPrefixOfNamespace : ns:XNamespace -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.Xml.Linq.XElement<br /><br />--------------------<br />XElement(name: XName) : unit<br />XElement(other: XElement) : unit<br />XElement(other: XStreamingElement) : unit<br />XElement(name: XName, content: obj) : unit<br />XElement(name: XName, [&lt;System.ParamArray&gt;] content: obj []) : unit</div>
<div class="tip" id="fs30">type XName =<br />&#160;&#160;member Equals : obj:obj -&gt; bool<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;member LocalName : string<br />&#160;&#160;member Namespace : XNamespace<br />&#160;&#160;member NamespaceName : string<br />&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;static member Get : expandedName:string -&gt; XName + 1 overload<br /><br />Full name: System.Xml.Linq.XName</div>
<div class="tip" id="fs31">XName.Get(expandedName: string) : XName<br />XName.Get(localName: string, namespaceName: string) : XName</div>
<div class="tip" id="fs32">type po = obj<br /><br />Full name: Tutorial.po</div>
<div class="tip" id="fs33">type XmlProvider<br /><br />Full name: FSharp.Data.XmlProvider<br /><em><br /><br />&lt;summary&gt;Typed representation of a XML file.&lt;/summary&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Sample&#39;&gt;Location of a XML sample file or a string containing a sample XML document.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;SampleIsList&#39;&gt;If true, the children of the root in the sample document represent individual samples for the inference.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Global&#39;&gt;If true, the inference unifies all XML elements with the same name.&lt;/param&gt;                     <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Culture&#39;&gt;The culture used for parsing numbers and dates. Defaults to the invariant culture.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Encoding&#39;&gt;The encoding used to read the sample. You can specify either the character set name or the codepage number. Defaults to UTF8 for files, and to ISO-8859-1 the for HTTP requests, unless `charset` is specified in the `Content-Type` response header.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;ResolutionFolder&#39;&gt;A directory that is used when resolving relative file references (at design time and in hosted execution).&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;EmbeddedResource&#39;&gt;When specified, the type provider first attempts to load the sample from the specified resource <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(e.g. &#39;MyCompany.MyAssembly, resource_name.xml&#39;). This is useful when exposing types generated by the type provider.&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;InferTypesFromValues&#39;&gt;If true, turns on additional type inference from values. <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(e.g. type inference infers string values such as &quot;123&quot; as ints and values constrained to 0 and 1 as booleans. The XmlProvider also infers string values as JSON.)&lt;/param&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;param name=&#39;Schema&#39;&gt;Location of a schema file or a string containing xsd.&lt;/param&gt;</em></div>

        </div>
        <div class="span3">
          <img src="/AntaniXml/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">AntaniXml</li>
            <li><a href="/AntaniXml/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/AntaniXml">Get Library via NuGet</a></li>
            <li><a href="http://github.com/giacomociti/AntaniXml">Source Code on GitHub</a></li>
            <li><a href="/AntaniXml/license.html">License</a></li>
            <li><a href="/AntaniXml/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/AntaniXml/tutorial.html">Tutorial</a></li>
            <li><a href="/AntaniXml/customizations.html">Customizations</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/AntaniXml/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/giacomociti/AntaniXml"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
